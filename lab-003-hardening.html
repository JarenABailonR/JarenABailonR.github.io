<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Lab 003 · Hardening básico en Debian 13</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/svg+xml" href="favicon.svg" />
  <style>
    :root {
      --bg: #02040a;
      --bg-card: #020617;
      --border: #1f2937;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --accent: #f973a6;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color: var(--text);
      background-color: var(--bg);
      background-image:
        radial-gradient(circle at 0% 0%, rgba(148,163,255,0.18) 0, transparent 55%),
        radial-gradient(circle at 100% 10%, rgba(56,189,248,0.14) 0, transparent 60%);
      background-attachment: fixed;
      background-repeat: no-repeat;
    }
    .page { max-width: 900px; margin: 0 auto; padding: 24px 16px 32px; }
    a.back-link { font-size: 0.85rem; color: var(--muted); text-decoration: none; }
    a.back-link:hover { color: var(--accent); }
    .card {
      margin-top: 16px;
      background: var(--bg-card);
      border-radius: 16px;
      border: 1px solid rgba(148,163,184,0.35);
      padding: 18px 20px 22px;
      box-shadow: 0 18px 40px rgba(0,0,0,0.7);
    }
    h1 { margin: 0 0 8px; font-size: 1.4rem; }
    h2 { margin-top: 20px; font-size: 1rem; }
    p { font-size: 0.9rem; color: var(--muted); }
    strong { color: #e5e7eb; }
    code, pre {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 0.8rem;
    }
    pre {
      background: #020617;
      border-radius: 12px;
      border: 1px solid #111827;
      padding: 10px 12px;
      overflow-x: auto;
    }
  </style>
</head>
<body>
  <div class="page">
    <a href="index.html" class="back-link">← Volver al índice</a>

    <article class="card">
      <header>
        <h1>Lab 003 · Hardening básico en Debian 13</h1>
        <p>
          Objetivo: aplicar una serie de pasos sencillos de
          <strong>hardening</strong> (endurecimiento) a un servidor Debian 13
          recién instalado, para dejarlo más decente antes de usarlo en un homelab.
        </p>
      </header>

      <h2>1. Actualizar el sistema</h2>
      <pre><code>sudo apt update
sudo apt full-upgrade -y</code></pre>

      <h2>2. Crear usuario normal con sudo</h2>
      <pre><code>sudo adduser anghelo
sudo usermod -aG sudo anghelo</code></pre>

      <p>Después, inicias sesión con tu usuario y evitas usar root directo.</p>

      <h2>3. Configurar SSH de forma básica</h2>
      <p>Editar <code>/etc/ssh/sshd_config</code> y ajustar:</p>

      <pre><code>PermitRootLogin no
PasswordAuthentication yes   # más adelante puedes pasar a claves
X11Forwarding no</code></pre>

      <pre><code>sudo systemctl restart ssh</code></pre>

      <h2>4. Firewall sencillo con UFW</h2>
      <pre><code>sudo apt install -y ufw

# Permitir SSH
sudo ufw allow OpenSSH

# (Opcional) HTTP/HTTPS si vas a servir web
# sudo ufw allow 80/tcp
# sudo ufw allow 443/tcp

sudo ufw enable
sudo ufw status verbose</code></pre>

      <h2>5. Desactivar servicios inútiles</h2>
      <p>Ver qué servicios escuchan en puertos:</p>

      <pre><code>sudo ss -tulpn</code></pre>

      <p>
        Si ves servicios que no usas (cups, avahi, etc.), puedes deshabilitarlos:
      </p>

      <pre><code>sudo systemctl disable --now nombre-del-servicio</code></pre>

      <h2>6. Autenticación un poco mejor (sudo)</h2>
      <p>Opcional: exigir contraseña para cada uso de sudo.</p>

      <pre><code>sudo visudo</code></pre>

      <p>
        Asegúrate de que <code>%sudo</code> tiene algo como:
      </p>

      <pre><code>%sudo   ALL=(ALL:ALL) ALL</code></pre>

      <h2>7. Activar actualizaciones de seguridad automáticas</h2>
      <pre><code>sudo apt install -y unattended-upgrades

sudo dpkg-reconfigure unattended-upgrades</code></pre>

      <p>Deja activadas las actualizaciones de seguridad.</p>

      <h2>8. Checklist final</h2>
      <p>
        • Tienes usuario normal con sudo.<br>
        • Root por SSH está deshabilitado.<br>
        • UFW activo y solo con los puertos que realmente usas.<br>
        • Servicios innecesarios deshabilitados.<br>
        • Actualizaciones de seguridad automáticas configuradas.
      </p>
    </article>
  </div>
</body>
</html>
